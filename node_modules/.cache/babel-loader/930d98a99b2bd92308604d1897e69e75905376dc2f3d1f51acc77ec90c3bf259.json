{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"sidebar-top\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", null, \"资产管理系统\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"userInfo\"\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = {\n  key: 1\n};\nconst _hoisted_6 = {\n  class: \"sidebar-cont\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\");\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\");\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_el_sub_menu = _resolveComponent(\"el-sub-menu\");\n  const _component_el_menu = _resolveComponent(\"el-menu\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createTextVNode(\" // 顶部 \"), _createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", null, [_createVNode(_component_el_dropdown, null, {\n    dropdown: _withCtx(() => [_createVNode(_component_el_dropdown_menu, null, {\n      default: _withCtx(() => [_createVNode(_component_el_dropdown_item, null, {\n        default: _withCtx(() => [_createElementVNode(\"div\", {\n          onClick: _cache[0] || (_cache[0] = (...args) => $setup.logout && $setup.logout(...args))\n        }, \"退出\")]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    })]),\n\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_ctx.userRole === 'admin' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, \"系统管理员\")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, \"普通用户\")), _createElementVNode(\"div\", null, _toDisplayString(_ctx.userName), 1 /* TEXT */)])]),\n\n    _: 1 /* STABLE */\n  })])]), _createTextVNode(\" // 侧边栏菜单 \"), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_el_menu, {\n    \"default-active\": $setup.ac_index,\n    onSelect: $setup.Select\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.menu, (item, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index\n      }, [_createVNode(_component_router_link, {\n        to: {\n          path: item.router\n        }\n      }, {\n        default: _withCtx(() => [item.subClass.length == 0 ? (_openBlock(), _createBlock(_component_el_menu_item, {\n          key: 0,\n          index: item.id\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(item.icon)))]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */), _createElementVNode(\"span\", null, _toDisplayString(item.title), 1 /* TEXT */)]),\n\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"index\"])) : _createCommentVNode(\"v-if\", true)]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]), item.subClass.length > 0 ? (_openBlock(), _createBlock(_component_el_sub_menu, {\n        key: 0,\n        index: item.id\n      }, {\n        title: _withCtx(() => [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(item.icon)))]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */), _createElementVNode(\"span\", null, _toDisplayString(item.title), 1 /* TEXT */)]),\n\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.subClass, (v, k) => {\n          return _openBlock(), _createElementBlock(\"div\", {\n            key: k\n          }, [_createVNode(_component_router_link, {\n            to: {\n              path: v.router\n            }\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_menu_item, {\n              index: v.id\n            }, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString(v.title), 1 /* TEXT */)]),\n\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"index\"])]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]);\n        }), 128 /* KEYED_FRAGMENT */))]),\n\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"index\"])) : _createCommentVNode(\"v-if\", true)]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"default-active\", \"onSelect\"])]), _createVNode(_component_router_view)]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_el_dropdown","dropdown","_withCtx","_component_el_dropdown_menu","_component_el_dropdown_item","onClick","_cache","args","$setup","logout","_hoisted_3","_ctx","userRole","_hoisted_4","_hoisted_5","_toDisplayString","userName","_hoisted_6","_component_el_menu","ac_index","onSelect","Select","_Fragment","_renderList","menu","item","index","key","_component_router_link","to","path","router","subClass","length","_createBlock","_component_el_menu_item","id","_component_el_icon","_resolveDynamicComponent","icon","title","_component_el_sub_menu","v","k","_component_router_view"],"sources":["D:\\src\\github.com\\SecurityNeo\\cmdb-ui\\src\\page\\index\\index.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        // 顶部\r\n        <div class=\"sidebar-top\">\r\n            <div>资产管理系统</div>\r\n            <div>\r\n                <el-dropdown>\r\n                    <div class=\"userInfo\">\r\n                        <div v-if=\"userRole === 'admin'\">系统管理员</div>\r\n                        <div v-else>普通用户</div>\r\n                        <div>{{ userName }}</div>\r\n                    </div>\r\n                    <template #dropdown>\r\n                    <el-dropdown-menu>\r\n                        <el-dropdown-item >\r\n                            <div @click=\"logout\">退出</div>\r\n                        </el-dropdown-item>\r\n                    </el-dropdown-menu>\r\n                    </template>\r\n                </el-dropdown>\r\n            </div>\r\n\r\n        </div>\r\n        // 侧边栏菜单\r\n        <div class=\"sidebar-cont\">\r\n            <el-menu :default-active=\"ac_index\" @select=\"Select\">\r\n                    <div v-for=\"(item,index) in menu\" :key=\"index\">\r\n                        <router-link :to=\"{path:item.router}\">\r\n                            <el-menu-item v-if=\"item.subClass.length == 0\" :index=\"item.id\"> \r\n                                <el-icon>\r\n                                    <component :is=\"item.icon\"></component>\r\n                                </el-icon>\r\n                                <span>{{ item.title }}</span>\r\n                            </el-menu-item>\r\n                        </router-link>\r\n                        <el-sub-menu v-if=\"item.subClass.length > 0\" :index=\"item.id\">\r\n                            <template #title>\r\n                                <el-icon>\r\n                                    <component :is=\"item.icon\"></component>\r\n                                </el-icon>\r\n                                <span>{{ item.title }}</span>\r\n                            </template>\r\n                            <div v-for=\"(v,k) in item.subClass\" :key=\"k\">\r\n                                <router-link :to=\"{path: v.router}\">\r\n                                    <el-menu-item :index=\"v.id\">{{ v.title }}</el-menu-item>\r\n                                </router-link>\r\n                            </div>\r\n                        </el-sub-menu>\r\n                    </div>\r\n            </el-menu>\r\n        </div>\r\n        <router-view></router-view>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {Box, Management} from '@element-plus/icons-vue'\r\nimport { onMounted, reactive, ref, toRefs } from 'vue'\r\n\r\n\r\nexport default{\r\n    components: {\r\n        Box,\r\n        Management\r\n    },\r\n    setup() {\r\n        const menuArr = [\r\n            {\r\n                id: '1',\r\n                icon: \"Box\",\r\n                title: \"资源管理\",\r\n                router: \"\",\r\n                subClass: [\r\n                    {\r\n                        id: '1-1',\r\n                        title: \"物理机管理\",\r\n                        router: \"server\"\r\n                    },\r\n                    {\r\n                        id: '1-2',\r\n                        title: \"虚拟机管理\",\r\n                        router: \"vm\"\r\n                    },\r\n                    {\r\n                        id: '1-3',\r\n                        title: \"网络设备管理\",\r\n                        router: \"networks\"\r\n                    },\r\n                    {\r\n                        id: '1-4',\r\n                        title: \"资源分组管理\",\r\n                        router: \"tag\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                id: '2',\r\n                icon: \"Management\",\r\n                title: \"系统\",\r\n                router: \"\",\r\n                subClass: [\r\n                    {\r\n                        id: '2-1',\r\n                        title: \"用户管理\",\r\n                        router: \"user\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n        \r\n        const config = reactive({\r\n            userRole: \"\",\r\n            userName: \"\"\r\n        })\r\n\r\n        // 菜单激活回调函数。将当前激活菜单index存入本地缓存，刷新页面后也可激活前面选中菜单\r\n        function Select(index) {\r\n            localStorage.setItem('menuidex',JSON.stringify(index))     \r\n        }\r\n\r\n        // 首次进入时值置为“1-1”\r\n        const ac_index = ref(\"\")\r\n        onMounted(()=>{\r\n            const menuindex = JSON.parse(localStorage.getItem('menuidex'))\r\n            if (menuindex == null) {\r\n                ac_index.value = \"1-1\"\r\n            } else {\r\n                ac_index.value = menuindex\r\n            }\r\n            \r\n            config.userRole = localStorage.getItem(\"role\")\r\n            config.userName = localStorage.getItem(\"username\")\r\n            \r\n        })\r\n\r\n        const logout = () => {\r\n            localStorage.removeItem('menuidex')\r\n            localStorage.removeItem('token')\r\n            localStorage.removeItem('role')\r\n            localStorage.removeItem('userid')\r\n            window.location.href = '/'\r\n        }\r\n\r\n        const menu = reactive(menuArr)\r\n        return {\r\n            menu, \r\n            ac_index, \r\n            Select,\r\n            logout,\r\n            ...toRefs(config)\r\n        }\r\n    }\r\n}\r\n</script>"],"mappings":";;EAGaA,KAAK,EAAC;AAAa;gCACpBC,mBAAA,CAAiB,aAAZ,QAAM;;EAGED,KAAK,EAAC;AAAU;;;;;;;;EAiB5BA,KAAK,EAAC;AAAc;;;;;;;;;;;uBAvB7BE,mBAAA,CAmDM,c,iBAnDD,SAED,GAAAD,mBAAA,CAmBM,OAnBNE,UAmBM,GAlBFC,UAAiB,EACjBH,mBAAA,CAeM,cAdFI,YAAA,CAacC,sBAAA;IAPCC,QAAQ,EAAAC,QAAA,CACnB,MAImB,CAJnBH,YAAA,CAImBI,2BAAA;wBAHf,MAEmB,CAFnBJ,YAAA,CAEmBK,2BAAA;0BADf,MAA6B,CAA7BT,mBAAA,CAA6B;UAAvBU,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,MAAA,CAAAC,MAAA,IAAAD,MAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;WAAE,IAAE,E;;;;;;;sBAR/B,MAIM,CAJNZ,mBAAA,CAIM,OAJNe,UAIM,GAHSC,IAAA,CAAAC,QAAQ,gB,cAAnBhB,mBAAA,CAA4C,OAAAiB,UAAA,EAAX,OAAK,M,cACtCjB,mBAAA,CAAsB,OAAAkB,UAAA,EAAV,MAAI,IAChBnB,mBAAA,CAAyB,aAAAoB,gBAAA,CAAjBJ,IAAA,CAAAK,QAAQ,iB;;;2BAY1B,YAEN,GAAArB,mBAAA,CA0BM,OA1BNsB,UA0BM,GAzBFlB,YAAA,CAwBUmB,kBAAA;IAxBA,gBAAc,EAAEV,MAAA,CAAAW,QAAQ;IAAGC,QAAM,EAAEZ,MAAA,CAAAa;;sBAChC,MAA4B,E,kBAAjCzB,mBAAA,CAsBM0B,SAAA,QAAAC,WAAA,CAtBsBf,MAAA,CAAAgB,IAAI,GAAnBC,IAAI,EAACC,KAAK;2BAAvB9B,mBAAA,CAsBM;QAtB6B+B,GAAG,EAAED;MAAK,IACzC3B,YAAA,CAOc6B,sBAAA;QAPAC,EAAE;UAAAC,IAAA,EAAQL,IAAI,CAACM;QAAM;;0BAC/B,MAKe,CALKN,IAAI,CAACO,QAAQ,CAACC,MAAM,S,cAAxCC,YAAA,CAKeC,uBAAA;;UALiCT,KAAK,EAAED,IAAI,CAACW;;4BACxD,MAEU,CAFVrC,YAAA,CAEUsC,kBAAA;8BADN,MAAuC,E,cAAvCH,YAAA,CAAuCI,wBAAA,CAAvBb,IAAI,CAACc,IAAI,I;;wCAE7B5C,mBAAA,CAA6B,cAAAoB,gBAAA,CAApBU,IAAI,CAACe,KAAK,iB;;;;;mDAGRf,IAAI,CAACO,QAAQ,CAACC,MAAM,Q,cAAvCC,YAAA,CAYcO,sBAAA;;QAZgCf,KAAK,EAAED,IAAI,CAACW;;QAC3CI,KAAK,EAAAtC,QAAA,CACZ,MAEU,CAFVH,YAAA,CAEUsC,kBAAA;4BADN,MAAuC,E,cAAvCH,YAAA,CAAuCI,wBAAA,CAAvBb,IAAI,CAACc,IAAI,I;;sCAE7B5C,mBAAA,CAA6B,cAAAoB,gBAAA,CAApBU,IAAI,CAACe,KAAK,iB;;0BAElB,MAA8B,E,kBAAnC5C,mBAAA,CAIM0B,SAAA,QAAAC,WAAA,CAJeE,IAAI,CAACO,QAAQ,GAArBU,CAAC,EAACC,CAAC;+BAAhB/C,mBAAA,CAIM;YAJ+B+B,GAAG,EAAEgB;UAAC,IACvC5C,YAAA,CAEc6B,sBAAA;YAFAC,EAAE;cAAAC,IAAA,EAASY,CAAC,CAACX;YAAM;;8BAC7B,MAAwD,CAAxDhC,YAAA,CAAwDoC,uBAAA;cAAzCT,KAAK,EAAEgB,CAAC,CAACN;;gCAAI,MAAa,C,kCAAVM,CAAC,CAACF,KAAK,iB;;;;;;;;;;;;;uDAOlEzC,YAAA,CAA2B6C,sBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}