{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"sidebar-top\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", null, \"资产管理系统\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"sidebar-cont\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_el_sub_menu = _resolveComponent(\"el-sub-menu\");\n  const _component_el_menu = _resolveComponent(\"el-menu\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createTextVNode(\" // 顶部 \"), _createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.logout && $setup.logout(...args))\n  }, \"退出\")]), _createTextVNode(\" // 侧边栏菜单 \"), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_menu, {\n    \"default-active\": $setup.ac_index,\n    onSelect: $setup.Select\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.menu, (item, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index\n      }, [_createVNode(_component_router_link, {\n        to: {\n          path: item.router\n        }\n      }, {\n        default: _withCtx(() => [item.subClass.length == 0 ? (_openBlock(), _createBlock(_component_el_menu_item, {\n          key: 0,\n          index: item.id\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(item.icon)))]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */), _createElementVNode(\"span\", null, _toDisplayString(item.title), 1 /* TEXT */)]),\n\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"index\"])) : _createCommentVNode(\"v-if\", true)]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]), item.subClass.length > 0 ? (_openBlock(), _createBlock(_component_el_sub_menu, {\n        key: 0,\n        index: item.id\n      }, {\n        title: _withCtx(() => [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(item.icon)))]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */), _createElementVNode(\"span\", null, _toDisplayString(item.title), 1 /* TEXT */)]),\n\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.subClass, (v, k) => {\n          return _openBlock(), _createElementBlock(\"div\", {\n            key: k\n          }, [_createVNode(_component_router_link, {\n            to: {\n              path: v.router\n            }\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_menu_item, {\n              index: v.id\n            }, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString(v.title), 1 /* TEXT */)]),\n\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"index\"])]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]);\n        }), 128 /* KEYED_FRAGMENT */))]),\n\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"index\"])) : _createCommentVNode(\"v-if\", true)]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"default-active\", \"onSelect\"])]), _createVNode(_component_router_view)]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","onClick","_cache","args","$setup","logout","_hoisted_3","_createVNode","_component_el_menu","ac_index","onSelect","Select","_Fragment","_renderList","menu","item","index","key","_component_router_link","to","path","router","subClass","length","_createBlock","_component_el_menu_item","id","_component_el_icon","_resolveDynamicComponent","icon","_toDisplayString","title","_component_el_sub_menu","_withCtx","v","k","_component_router_view"],"sources":["D:\\src\\github.com\\SecurityNeo\\cmdb-ui\\src\\page\\index\\index.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        // 顶部\r\n        <div class=\"sidebar-top\">\r\n            <div>资产管理系统</div>\r\n            <div @click=\"logout\">退出</div>\r\n        </div>\r\n        // 侧边栏菜单\r\n        <div class=\"sidebar-cont\">\r\n            <el-menu :default-active=\"ac_index\" @select=\"Select\">\r\n                    <div v-for=\"(item,index) in menu\" :key=\"index\">\r\n                        <router-link :to=\"{path:item.router}\">\r\n                            <el-menu-item v-if=\"item.subClass.length == 0\" :index=\"item.id\"> \r\n                                <el-icon>\r\n                                    <component :is=\"item.icon\"></component>\r\n                                </el-icon>\r\n                                <span>{{ item.title }}</span>\r\n                            </el-menu-item>\r\n                        </router-link>\r\n                        <el-sub-menu v-if=\"item.subClass.length > 0\" :index=\"item.id\">\r\n                            <template #title>\r\n                                <el-icon>\r\n                                    <component :is=\"item.icon\"></component>\r\n                                </el-icon>\r\n                                <span>{{ item.title }}</span>\r\n                            </template>\r\n                            <div v-for=\"(v,k) in item.subClass\" :key=\"k\">\r\n                                <router-link :to=\"{path: v.router}\">\r\n                                    <el-menu-item :index=\"v.id\">{{ v.title }}</el-menu-item>\r\n                                </router-link>\r\n                            </div>\r\n                        </el-sub-menu>\r\n                    </div>\r\n            </el-menu>\r\n        </div>\r\n        <router-view></router-view>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {Box, Management} from '@element-plus/icons-vue'\r\nimport { onMounted, reactive, ref } from 'vue'\r\n\r\n\r\nexport default{\r\n    components: {\r\n        Box,\r\n        Management\r\n    },\r\n    setup() {\r\n        const menuArr = [\r\n            {\r\n                id: '1',\r\n                icon: \"Box\",\r\n                title: \"资源管理\",\r\n                router: \"\",\r\n                subClass: [\r\n                    {\r\n                        id: '1-1',\r\n                        title: \"物理机管理\",\r\n                        router: \"server\"\r\n                    },\r\n                    {\r\n                        id: '1-2',\r\n                        title: \"虚拟机管理\",\r\n                        router: \"vm\"\r\n                    },\r\n                    {\r\n                        id: '1-3',\r\n                        title: \"网络设备管理\",\r\n                        router: \"networks\"\r\n                    },\r\n                    {\r\n                        id: '1-4',\r\n                        title: \"资源分组管理\",\r\n                        router: \"tag\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                id: '2',\r\n                icon: \"Management\",\r\n                title: \"系统\",\r\n                router: \"\",\r\n                subClass: [\r\n                    {\r\n                        id: '2-1',\r\n                        title: \"用户管理\",\r\n                        router: \"user\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n        \r\n\r\n        // 菜单激活回调函数。将当前激活菜单index存入本地缓存，刷新页面后也可激活前面选中菜单\r\n        function Select(index) {\r\n            localStorage.setItem('menuidex',JSON.stringify(index))\r\n\r\n           \r\n        }\r\n\r\n        // 首次进入时值置为“1-1”\r\n        const ac_index = ref(\"\")\r\n        onMounted(()=>{\r\n            const menuindex = JSON.parse(localStorage.getItem('menuidex'))\r\n            if (menuindex == null) {\r\n                ac_index.value = \"1-1\"\r\n            } else {\r\n                ac_index.value = menuindex\r\n            }\r\n            \r\n            \r\n        })\r\n\r\n        const logout = () => {\r\n            localStorage.removeItem('menuidex')\r\n            localStorage.removeItem('token')\r\n            window.location.href = '/'\r\n        }\r\n\r\n        const menu = reactive(menuArr)\r\n        return {menu, ac_index, Select,logout}\r\n    }\r\n}\r\n</script>"],"mappings":";;EAGaA,KAAK,EAAC;AAAa;gCACpBC,mBAAA,CAAiB,aAAZ,QAAM;;EAIVD,KAAK,EAAC;AAAc;;;;;;;;uBAP7BE,mBAAA,CAmCM,c,iBAnCD,SAED,GAAAD,mBAAA,CAGM,OAHNE,UAGM,GAFFC,UAAiB,EACjBH,mBAAA,CAA6B;IAAvBI,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,MAAA,CAAAC,MAAA,IAAAD,MAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;KAAE,IAAE,E,oBACrB,YAEN,GAAAN,mBAAA,CA0BM,OA1BNS,UA0BM,GAzBFC,YAAA,CAwBUC,kBAAA;IAxBA,gBAAc,EAAEJ,MAAA,CAAAK,QAAQ;IAAGC,QAAM,EAAEN,MAAA,CAAAO;;sBAChC,MAA4B,E,kBAAjCb,mBAAA,CAsBMc,SAAA,QAAAC,WAAA,CAtBsBT,MAAA,CAAAU,IAAI,GAAnBC,IAAI,EAACC,KAAK;2BAAvBlB,mBAAA,CAsBM;QAtB6BmB,GAAG,EAAED;MAAK,IACzCT,YAAA,CAOcW,sBAAA;QAPAC,EAAE;UAAAC,IAAA,EAAQL,IAAI,CAACM;QAAM;;0BAC/B,MAKe,CALKN,IAAI,CAACO,QAAQ,CAACC,MAAM,S,cAAxCC,YAAA,CAKeC,uBAAA;;UALiCT,KAAK,EAAED,IAAI,CAACW;;4BACxD,MAEU,CAFVnB,YAAA,CAEUoB,kBAAA;8BADN,MAAuC,E,cAAvCH,YAAA,CAAuCI,wBAAA,CAAvBb,IAAI,CAACc,IAAI,I;;wCAE7BhC,mBAAA,CAA6B,cAAAiC,gBAAA,CAApBf,IAAI,CAACgB,KAAK,iB;;;;;mDAGRhB,IAAI,CAACO,QAAQ,CAACC,MAAM,Q,cAAvCC,YAAA,CAYcQ,sBAAA;;QAZgChB,KAAK,EAAED,IAAI,CAACW;;QAC3CK,KAAK,EAAAE,QAAA,CACZ,MAEU,CAFV1B,YAAA,CAEUoB,kBAAA;4BADN,MAAuC,E,cAAvCH,YAAA,CAAuCI,wBAAA,CAAvBb,IAAI,CAACc,IAAI,I;;sCAE7BhC,mBAAA,CAA6B,cAAAiC,gBAAA,CAApBf,IAAI,CAACgB,KAAK,iB;;0BAElB,MAA8B,E,kBAAnCjC,mBAAA,CAIMc,SAAA,QAAAC,WAAA,CAJeE,IAAI,CAACO,QAAQ,GAArBY,CAAC,EAACC,CAAC;+BAAhBrC,mBAAA,CAIM;YAJ+BmB,GAAG,EAAEkB;UAAC,IACvC5B,YAAA,CAEcW,sBAAA;YAFAC,EAAE;cAAAC,IAAA,EAASc,CAAC,CAACb;YAAM;;8BAC7B,MAAwD,CAAxDd,YAAA,CAAwDkB,uBAAA;cAAzCT,KAAK,EAAEkB,CAAC,CAACR;;gCAAI,MAAa,C,kCAAVQ,CAAC,CAACH,KAAK,iB;;;;;;;;;;;;;uDAOlExB,YAAA,CAA2B6B,sBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}