{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"sidebar-top\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", null, \"资产管理系统\", -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"span\", null, \" Dropdown List \", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"sidebar-cont\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\");\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\");\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_el_sub_menu = _resolveComponent(\"el-sub-menu\");\n  const _component_el_menu = _resolveComponent(\"el-menu\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createTextVNode(\" // 顶部 \"), _createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", null, [_createVNode(_component_el_dropdown, null, {\n    dropdown: _withCtx(() => [_createVNode(_component_el_dropdown_menu, null, {\n      default: _withCtx(() => [_createVNode(_component_el_dropdown_item, {\n        divided: \"\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"div\", {\n          onClick: _cache[0] || (_cache[0] = (...args) => $setup.logout && $setup.logout(...args))\n        }, \"退出\")]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    })]),\n\n    default: _withCtx(() => [_hoisted_3]),\n    _: 1 /* STABLE */\n  })])]), _createTextVNode(\" // 侧边栏菜单 \"), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_el_menu, {\n    \"default-active\": $setup.ac_index,\n    onSelect: $setup.Select\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.menu, (item, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index\n      }, [_createVNode(_component_router_link, {\n        to: {\n          path: item.router\n        }\n      }, {\n        default: _withCtx(() => [item.subClass.length == 0 ? (_openBlock(), _createBlock(_component_el_menu_item, {\n          key: 0,\n          index: item.id\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(item.icon)))]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */), _createElementVNode(\"span\", null, _toDisplayString(item.title), 1 /* TEXT */)]),\n\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"index\"])) : _createCommentVNode(\"v-if\", true)]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]), item.subClass.length > 0 ? (_openBlock(), _createBlock(_component_el_sub_menu, {\n        key: 0,\n        index: item.id\n      }, {\n        title: _withCtx(() => [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(item.icon)))]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */), _createElementVNode(\"span\", null, _toDisplayString(item.title), 1 /* TEXT */)]),\n\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.subClass, (v, k) => {\n          return _openBlock(), _createElementBlock(\"div\", {\n            key: k\n          }, [_createVNode(_component_router_link, {\n            to: {\n              path: v.router\n            }\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_menu_item, {\n              index: v.id\n            }, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString(v.title), 1 /* TEXT */)]),\n\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"index\"])]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]);\n        }), 128 /* KEYED_FRAGMENT */))]),\n\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"index\"])) : _createCommentVNode(\"v-if\", true)]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"default-active\", \"onSelect\"])]), _createVNode(_component_router_view)]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_el_dropdown","dropdown","_withCtx","_component_el_dropdown_menu","_component_el_dropdown_item","divided","onClick","_cache","args","$setup","logout","_hoisted_3","_hoisted_4","_component_el_menu","ac_index","onSelect","Select","_Fragment","_renderList","menu","item","index","key","_component_router_link","to","path","router","subClass","length","_createBlock","_component_el_menu_item","id","_component_el_icon","_resolveDynamicComponent","icon","_toDisplayString","title","_component_el_sub_menu","v","k","_component_router_view"],"sources":["D:\\src\\github.com\\SecurityNeo\\cmdb-ui\\src\\page\\index\\index.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        // 顶部\r\n        <div class=\"sidebar-top\">\r\n            <div>资产管理系统</div>\r\n            <div>\r\n                <el-dropdown>\r\n                    <span>\r\n                    Dropdown List\r\n                    </span>\r\n                    <template #dropdown>\r\n                    <el-dropdown-menu>\r\n                        <el-dropdown-item divided>\r\n                            <div @click=\"logout\">退出</div>\r\n                        </el-dropdown-item>\r\n                    </el-dropdown-menu>\r\n                    </template>\r\n                </el-dropdown>\r\n            </div>\r\n\r\n        </div>\r\n        // 侧边栏菜单\r\n        <div class=\"sidebar-cont\">\r\n            <el-menu :default-active=\"ac_index\" @select=\"Select\">\r\n                    <div v-for=\"(item,index) in menu\" :key=\"index\">\r\n                        <router-link :to=\"{path:item.router}\">\r\n                            <el-menu-item v-if=\"item.subClass.length == 0\" :index=\"item.id\"> \r\n                                <el-icon>\r\n                                    <component :is=\"item.icon\"></component>\r\n                                </el-icon>\r\n                                <span>{{ item.title }}</span>\r\n                            </el-menu-item>\r\n                        </router-link>\r\n                        <el-sub-menu v-if=\"item.subClass.length > 0\" :index=\"item.id\">\r\n                            <template #title>\r\n                                <el-icon>\r\n                                    <component :is=\"item.icon\"></component>\r\n                                </el-icon>\r\n                                <span>{{ item.title }}</span>\r\n                            </template>\r\n                            <div v-for=\"(v,k) in item.subClass\" :key=\"k\">\r\n                                <router-link :to=\"{path: v.router}\">\r\n                                    <el-menu-item :index=\"v.id\">{{ v.title }}</el-menu-item>\r\n                                </router-link>\r\n                            </div>\r\n                        </el-sub-menu>\r\n                    </div>\r\n            </el-menu>\r\n        </div>\r\n        <router-view></router-view>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {Box, Management} from '@element-plus/icons-vue'\r\nimport { onMounted, reactive, ref } from 'vue'\r\n\r\n\r\nexport default{\r\n    components: {\r\n        Box,\r\n        Management\r\n    },\r\n    setup() {\r\n        const menuArr = [\r\n            {\r\n                id: '1',\r\n                icon: \"Box\",\r\n                title: \"资源管理\",\r\n                router: \"\",\r\n                subClass: [\r\n                    {\r\n                        id: '1-1',\r\n                        title: \"物理机管理\",\r\n                        router: \"server\"\r\n                    },\r\n                    {\r\n                        id: '1-2',\r\n                        title: \"虚拟机管理\",\r\n                        router: \"vm\"\r\n                    },\r\n                    {\r\n                        id: '1-3',\r\n                        title: \"网络设备管理\",\r\n                        router: \"networks\"\r\n                    },\r\n                    {\r\n                        id: '1-4',\r\n                        title: \"资源分组管理\",\r\n                        router: \"tag\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                id: '2',\r\n                icon: \"Management\",\r\n                title: \"系统\",\r\n                router: \"\",\r\n                subClass: [\r\n                    {\r\n                        id: '2-1',\r\n                        title: \"用户管理\",\r\n                        router: \"user\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n        \r\n\r\n        // 菜单激活回调函数。将当前激活菜单index存入本地缓存，刷新页面后也可激活前面选中菜单\r\n        function Select(index) {\r\n            localStorage.setItem('menuidex',JSON.stringify(index))\r\n\r\n           \r\n        }\r\n\r\n        // 首次进入时值置为“1-1”\r\n        const ac_index = ref(\"\")\r\n        onMounted(()=>{\r\n            const menuindex = JSON.parse(localStorage.getItem('menuidex'))\r\n            if (menuindex == null) {\r\n                ac_index.value = \"1-1\"\r\n            } else {\r\n                ac_index.value = menuindex\r\n            }\r\n            \r\n            \r\n        })\r\n\r\n        const logout = () => {\r\n            localStorage.removeItem('menuidex')\r\n            localStorage.removeItem('token')\r\n            localStorage.removeItem('role')\r\n            localStorage.removeItem('userid')\r\n            window.location.href = '/'\r\n        }\r\n\r\n        const menu = reactive(menuArr)\r\n        return {menu, ac_index, Select,logout}\r\n    }\r\n}\r\n</script>"],"mappings":";;EAGaA,KAAK,EAAC;AAAa;gCACpBC,mBAAA,CAAiB,aAAZ,QAAM;gCAGHA,mBAAA,CAEO,cAFD,iBAEN;;EAaPD,KAAK,EAAC;AAAc;;;;;;;;;;;uBArB7BE,mBAAA,CAiDM,c,iBAjDD,SAED,GAAAD,mBAAA,CAiBM,OAjBNE,UAiBM,GAhBFC,UAAiB,EACjBH,mBAAA,CAaM,cAZFI,YAAA,CAWcC,sBAAA;IAPCC,QAAQ,EAAAC,QAAA,CACnB,MAImB,CAJnBH,YAAA,CAImBI,2BAAA;wBAHf,MAEmB,CAFnBJ,YAAA,CAEmBK,2BAAA;QAFDC,OAAO,EAAP;MAAO;0BACrB,MAA6B,CAA7BV,mBAAA,CAA6B;UAAvBW,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,MAAA,CAAAC,MAAA,IAAAD,MAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;WAAE,IAAE,E;;;;;;;sBAN/B,MAEO,CAFPG,UAEO,C;;2BAWb,YAEN,GAAAhB,mBAAA,CA0BM,OA1BNiB,UA0BM,GAzBFb,YAAA,CAwBUc,kBAAA;IAxBA,gBAAc,EAAEJ,MAAA,CAAAK,QAAQ;IAAGC,QAAM,EAAEN,MAAA,CAAAO;;sBAChC,MAA4B,E,kBAAjCpB,mBAAA,CAsBMqB,SAAA,QAAAC,WAAA,CAtBsBT,MAAA,CAAAU,IAAI,GAAnBC,IAAI,EAACC,KAAK;2BAAvBzB,mBAAA,CAsBM;QAtB6B0B,GAAG,EAAED;MAAK,IACzCtB,YAAA,CAOcwB,sBAAA;QAPAC,EAAE;UAAAC,IAAA,EAAQL,IAAI,CAACM;QAAM;;0BAC/B,MAKe,CALKN,IAAI,CAACO,QAAQ,CAACC,MAAM,S,cAAxCC,YAAA,CAKeC,uBAAA;;UALiCT,KAAK,EAAED,IAAI,CAACW;;4BACxD,MAEU,CAFVhC,YAAA,CAEUiC,kBAAA;8BADN,MAAuC,E,cAAvCH,YAAA,CAAuCI,wBAAA,CAAvBb,IAAI,CAACc,IAAI,I;;wCAE7BvC,mBAAA,CAA6B,cAAAwC,gBAAA,CAApBf,IAAI,CAACgB,KAAK,iB;;;;;mDAGRhB,IAAI,CAACO,QAAQ,CAACC,MAAM,Q,cAAvCC,YAAA,CAYcQ,sBAAA;;QAZgChB,KAAK,EAAED,IAAI,CAACW;;QAC3CK,KAAK,EAAAlC,QAAA,CACZ,MAEU,CAFVH,YAAA,CAEUiC,kBAAA;4BADN,MAAuC,E,cAAvCH,YAAA,CAAuCI,wBAAA,CAAvBb,IAAI,CAACc,IAAI,I;;sCAE7BvC,mBAAA,CAA6B,cAAAwC,gBAAA,CAApBf,IAAI,CAACgB,KAAK,iB;;0BAElB,MAA8B,E,kBAAnCxC,mBAAA,CAIMqB,SAAA,QAAAC,WAAA,CAJeE,IAAI,CAACO,QAAQ,GAArBW,CAAC,EAACC,CAAC;+BAAhB3C,mBAAA,CAIM;YAJ+B0B,GAAG,EAAEiB;UAAC,IACvCxC,YAAA,CAEcwB,sBAAA;YAFAC,EAAE;cAAAC,IAAA,EAASa,CAAC,CAACZ;YAAM;;8BAC7B,MAAwD,CAAxD3B,YAAA,CAAwD+B,uBAAA;cAAzCT,KAAK,EAAEiB,CAAC,CAACP;;gCAAI,MAAa,C,kCAAVO,CAAC,CAACF,KAAK,iB;;;;;;;;;;;;;uDAOlErC,YAAA,CAA2ByC,sBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}